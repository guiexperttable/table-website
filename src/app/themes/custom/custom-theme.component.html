<div
  [ngClass]="{
    'dark': !light,
    'light': light
  }"
  class="custom-theme-div">

  <div class="light-dark-div" *ngIf="bigScreen">
    <button (click)="setTheme('dark')" *ngIf="light" color="primary" mat-icon-button>
      <mat-icon>dark_mode</mat-icon>
    </button>
    <button (click)="setTheme('light')" *ngIf="!light" color="primary" mat-icon-button>
      <mat-icon>light_mode</mat-icon>
    </button>
  </div>

  <div class="toolbar">
    <mat-form-field appearance="fill">
      <mat-label>Filter</mat-label>
      <input (keyup)="onKeyup()" [(ngModel)]="filterText" matInput>
    </mat-form-field>

    <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="setFilter('', false)">
        All
      </button>
      <button mat-menu-item (click)="setFilter('+bg -select -column -row -hover -drag -dropped')">
        Table Background
      </button>
      <button mat-menu-item (click)="setFilter('+text -select')">
        All Text
      </button>
      <button mat-menu-item (click)="setFilter('+border')">
        All Border
      </button>

      <button mat-menu-item (click)="setFilter('+body +text -selected')">
        Body Text
      </button>
      <button mat-menu-item (click)="setFilter('+body +bg')">
        Body Background
      </button>
      <button mat-menu-item (click)="setFilter('+header +text -selected')">
        Header Text
      </button>
      <button mat-menu-item (click)="setFilter('+header +bg')">
        Header Background
      </button>
      <button mat-menu-item (click)="setFilter('+horizontal +border')">
        Horizontal Border
      </button>
      <button mat-menu-item (click)="setFilter('+vertical +border')">
        Vertical Border
      </button>
    </mat-menu>

    <button (click)="selectVisible()" mat-stroked-button>Select Visible</button>
    <button (click)="unSelectAll()" mat-stroked-button>Clear</button>
    <label>Sel: {{selectedCount}}</label>
    <label></label>

    <button (click)="exportCss()" color="primary" mat-flat-button>Export...</button>
  </div>


  <div class="content" [ngClass]="{big:bigScreen, small:!bigScreen}">

    <div class="grid">
      <guiexpert-table
        *ngIf="tableModel"
        (tableReady)="onTableReady($event)"
        [tableModel]="tableModel"
        [tableOptions]="tableOptions"
      ></guiexpert-table>
    </div>

    <!--    xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-->

    <div>
      <div class="oklch-picker">
        <div *ngFor="let a of arr" class="rows">
          <div
            (click)="setOkLch(a[0], a[1], h)"
            *ngFor="let h of hueValues"
            [style]="'background-color: oklch('+a[0]+'% '+a[1]+' '+h+')'">
          </div>
        </div>
      </div>


      GRAYS:<br>
      <div class="grid-100-cols">
        <div
          (click)="setOkLch(l, 0, 256, 100)"
          *ngFor="let l of percentages"
          [style]="'background-color: oklch('+l+'% 0 256 / 100%)'">
        </div>
      </div>

      SHORTCUTS:
      <div>
        <button (click)="setOkLch(0, 0, 0, 100)" mat-flat-button>Black</button>
        <button (click)="setOkLch(100, 0, 0, 100)" mat-flat-button>White</button>
        <button (click)="setOkLch(100, 0, 0, 0)" mat-flat-button>Transparent</button>
      </div>


      LIGHTNESS (0-100)<br>
      <div class="grid-100-cols">
        <div
          (click)="setOkLch(l, okLch.c, okLch.h, okLch.a)"
          *ngFor="let l of percentages"
          [style]="'background-color: oklch('+l+'% '+okLch.c+' '+okLch.h+' / '+okLch.a+'%)'">
        </div>
      </div>
      <div class="slider-tweak mat-thumb-only">
        <mat-slider
          [displayWith]="formatLabelLightness"
          discrete
          max="100"
          min="0"
          showTickMarks
          step="1">
          <input
            (ngModelChange)="onSliderChangedLightness($event)"
            [(ngModel)]="okLch.l" matSliderThumb>
        </mat-slider>
      </div>


      CHROMA (0-0.33)<br>
      <div class="grid-100-cols">
        <div
          (click)="setOkLch(okLch.l, c, okLch.h, okLch.a)"
          *ngFor="let c of chromas"
          [style]="'background-color: oklch('+okLch.l+'% '+c+' '+okLch.h+' / '+okLch.a+'%)'">
        </div>
      </div>
      <div class="slider-tweak mat-thumb-only">
        <mat-slider
          [displayWith]="formatLabelChroma"
          discrete
          max="0.33"
          min="0"
          showTickMarks
          step="0.01">
          <input
            (ngModelChange)="onSliderChangedChroma($event)"
            [(ngModel)]="okLch.c" matSliderThumb>
        </mat-slider>
      </div>

      HUE (0-360)<br>
      <div class="grid-100-cols">
        <div
          (click)="setOkLch(okLch.l, okLch.c, h)"
          *ngFor="let h of hueValues"
          [style]="'background-color: oklch('+okLch.l+'% '+okLch.c+' '+h+' / '+okLch.a+'%)'">
        </div>
      </div>
      <div class="slider-tweak mat-thumb-only">
        <mat-slider
          [displayWith]="formatLabelHue"
          discrete
          max="360"
          min="0"
          showTickMarks
          step="1">
          <input
            (ngModelChange)="onSliderChangedHue($event)"
            [(ngModel)]="okLch.h" matSliderThumb>
        </mat-slider>
      </div>


      ALPHA (0-100)<br>
      <div class="grid-100-cols">
        <div
          (click)="setOkLch(okLch.l, okLch.c, okLch.h, a)"
          *ngFor="let a of percentages"
          [style]="'background-color: oklch('+okLch.l+'% '+okLch.c+' '+okLch.h+' / '+ a +'%)'">
        </div>
      </div>
      <div class="slider-tweak mat-thumb-only">
        <mat-slider
          [displayWith]="formatLabelAlpha"
          discrete
          max="100"
          min="0"
          showTickMarks
          step="1">
          <input
            (ngModelChange)="onSliderChangedAlpha($event)"
            [(ngModel)]="okLch.a" matSliderThumb>
        </mat-slider>
      </div>


      <div>
        <input
          type="color"
          class="html-color-picker"
          id="favcolor"
          name="favcolor"
          [value]="'#ffffff'"
          (input)="colorPickerChanged($event)"
          (change)="colorPickerChanged($event)">
      </div>

      <div class="columns padding-top">
        <div [style.background]="cssString" class="resulting-color-div"></div>

        <div>
          <label>Resulting Color:</label><br>
          <strong [innerText]="cssString"></strong><br>
          <a *ngIf="url" [attr.href]="url" [innerText]="url" target="_blank"></a>
        </div>
      </div>
    </div>

  </div>


</div>
